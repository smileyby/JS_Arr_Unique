<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>JS 数组去重 四种方法</title>
</head>
<body>

</body>
<script>
	var arr = [1,2,3,4,5,1,2,3,4,5,'111',111,111,'a','a','b'];

	// 第一种方法
	function unique1(arr){
		var newArr = [];
		var i;
		var length = arr.length;
		for(i = 0; i<length; i += 1){
			if(newArr.indexOf(arr[i]) === -1){
				newArr.push(arr[i]);
			}
		};
		return newArr;
	};
	console.log(unique1(arr)); //[1,2,3,4,5,'111',111,'a','b']

	/*
	 * 第二种方法
	 * 这种方法对于 '111' 111 只会保留一个！！
	 */
	function unique2(arr){
		var obj = {};
		var newArr = [];
		var i;
		var length = arr.length;
		for(i = 0;i < length;i += 1){
			if(!obj[arr[i]]){
				obj[arr[i]] = 1;
				newArr.push(arr[i]);
			}
		};
		return newArr;
	};
	console.log(unique2(arr)); //[1,2,3,4,5,'111','a','b']

	/*
	 * 第三种方法
	 * 思路：arr.indexOf(value) 找到的位置肯定是第一次出现的位置，这样后面重复的位置的index肯定不会等于arr.indexOf(value)
	 * 达到去重效果
	 */
	function unique3(arr){
		var newArr = [];
		arr.forEach(function(value,index,all){
//			console.log('a:'+value)
//			console.log('b:'+arr.indexOf(value));
//			console.log('c:'+index);
			if(arr.indexOf(value) === index){
				newArr.push(value);
			}
		});
		return newArr;
	};
	console.log(unique3(arr));

	/*
	 * 第四种方法
	 * 数组排序去重
	 */
	function unique4(arr){
		var newArr = [];
		var end;
		var i;
		var length = arr.length;
		arr.sort();
		console.log(arr);
		end = arr[0];
		newArr.push(arr[0]);
		for(i = 0;i < length;i += 1){
			console.log('a:'+arr[i])
			console.log('b:'+end);
			if(arr[i] !== end){
				console.log('进入判断');
				newArr.push(arr[i]);
				end = arr[i];
			}
		};
		return newArr;
	};
	console.log(unique4(arr));
</script>
</html>